<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Открытие Telegram или Google Docs</title>
    <script>
        function openTelegramOrFallback() {
            let telegramURL = "https://t.me/tg_check239"; // Ссылка на Telegram-канал
            let fallbackURL = "https://script.google.com/macros/s/AKfycbxbzLZuEnUgp7ijFIC5jAt-cryZofyeyIQgXoqZJD9nWPlBaQbjpPbSXFhdpDsoO4udSw/exec""; // Ссылка на Google Docs

            // Проверяем, поддерживается ли схема tg://
            let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

            if (isMobile) {
                // На мобильных устройствах пробуем открыть через tg://
                let startTime = Date.now();
                window.location.href = "tg://resolve?domain=tg_check239";

                // Если приложение не открылось, перенаправляем на fallback
                setTimeout(() => {
                    let elapsedTime = Date.now() - startTime;
                    if (elapsedTime < 2000) { // Если Telegram не открылся
                        window.location.href = fallbackURL; // Переходим в Google Docs
                    }
                }, 1500);
            } else {
                // На десктопах используем стандартную ссылку
                let startTime = Date.now();
                window.location.href = telegramURL;

                // Если Telegram не открылся, перенаправляем на fallback
                setTimeout(() => {
                    let elapsedTime = Date.now() - startTime;
                    if (elapsedTime < 2000) { // Если Telegram не открылся
                        window.location.href = fallbackURL; // Переходим в Google Docs
                    }
                }, 1500);
            }
        }
    </
